<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>Nuvixhq | Ürünlerim</title>
<style>
  * {
    box-sizing: border-box;
    margin:0; padding:0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  body, html {
    height: 100%;
    background: #f5f7fa;
    color: #333;
  }
  header {
    background: #007acc;
    color: white;
    padding: 20px;
    text-align: center;
    font-size: 2rem;
    font-weight: bold;
  }
  .container {
    display: flex;
    height: calc(100vh - 72px);
  }
  nav {
    width: 220px;
    background: #004a99;
    display: flex;
    flex-direction: column;
    padding-top: 10px;
  }
  nav button {
    background: #007acc;
    border: none;
    color: white;
    padding: 15px 20px;
    margin: 8px 15px;
    font-size: 1rem;
    cursor: pointer;
    border-radius: 5px;
    text-align: left;
    transition: background-color 0.3s ease;
  }
  nav button:hover, nav button.active {
    background: #005fbb;
  }
  main {
    flex-grow: 1;
    padding: 30px;
    overflow-y: auto;
  }
  main h2 {
    margin-bottom: 10px;
    color: #007acc;
  }
  main a {
    color: #007acc;
    text-decoration: none;
    font-weight: bold;
    margin-right: 15px;
  }
  main a:hover {
    text-decoration: underline;
  }
  /* Program Uygulaması stili */
  #programApp form label {
    display: block;
    margin: 10px 0 5px;
  }
  #programApp form input, #programApp form select {
    padding: 8px;
    width: 100%;
    margin-bottom: 15px;
    border-radius: 4px;
    border: 1px solid #ccc;
  }
  #programList {
    margin-top: 20px;
  }
  #programList li {
    background: #e7f0fa;
    margin-bottom: 8px;
    padding: 10px;
    border-radius: 6px;
  }
  #timerDisplay {
    font-size: 2rem;
    margin: 15px 0;
  }
  button.control-btn {
    background: #007acc;
    border: none;
    color: white;
    padding: 10px 18px;
    margin-right: 8px;
    cursor: pointer;
    border-radius: 5px;
  }
  button.control-btn:hover {
    background: #005fbb;
  }
</style>
</head>
<body>

<header>Nuvixhq</header>

<div class="container">
  <nav>
    <button class="active" onclick="showProduct(1)">Pomodoro Zamanlayıcı</button>
    <button onclick="showProduct(2)">Duygu Takip</button>
    <button onclick="showProduct(3)">Program Uygulaması</button>
  </nav>

  <main>
    <!-- Pomodoro -->
    <section id="product1" class="product" style="display:block;">
      <h2>Pomodoro Zamanlayıcı</h2>
      <p>Verimli çalışmak için sade ve sesli bir zamanlayıcı</p>
      <a href="https://github.com/ertuelmas/pomodoro" target="_blank">📘 Bilgi Sayfası</a>
      <a href="https://gumroad.com/l/pomodoro" target="_blank">💰 Satın Al</a>
      <!-- (Pomodoro timer kodu buraya eklenebilir) -->
    </section>

    <!-- Duygu Takip -->
    <section id="product2" class="product" style="display:none;">
      <h2>Duygu Takip Uygulaması</h2>
      <p>Günlük ruh halini kaydederek kendini daha yakından tanı. Grafiklerle ruh halindeki değişimleri gör.</p>
      <a href="duygu-takip.html" target="_blank">🧠 Uygulamaya Git</a>
    </section>

    <!-- Program Uygulaması -->
    <section id="product3" class="product" style="display:none;">
      <h2>Program Uygulaması</h2>

      <form id="programForm">
        <label for="taskName">Görev Adı:</label>
        <input type="text" id="taskName" required />

        <label for="taskDate">Gün (YYYY-MM-DD):</label>
        <input type="date" id="taskDate" required />

        <label for="taskTime">Saat (HH:MM):</label>
        <input type="time" id="taskTime" required />

        <label for="taskDuration">Süre (dakika):</label>
        <input type="number" id="taskDuration" min="1" max="180" value="25" required />

        <button type="submit">Görev Ekle</button>
      </form>

      <ul id="programList"></ul>

      <div id="timerSection" style="display:none;">
        <h3>Görev Zamanlayıcı</h3>
        <div id="timerDisplay">00:00</div>
        <button class="control-btn" onclick="startTaskTimer()">▶ Başlat</button>
        <button class="control-btn" onclick="pauseTaskTimer()">⏸️ Duraklat</button>
        <button class="control-btn" onclick="resetTaskTimer()">🔄 Sıfırla</button>
        <button class="control-btn" onclick="stopTaskTimer()">⏹️ Durdur</button>
      </div>

      <audio id="alarmSound">
        <source src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" type="audio/ogg" />
        Tarayıcınız ses çalamıyor.
      </audio>
    </section>
  </main>
</div>

<script>
  // Sayfa ürün gösterme fonksiyonu
  function showProduct(id) {
    const buttons = document.querySelectorAll('nav button');
    buttons.forEach((btn, i) => btn.classList.toggle('active', i === id - 1));

    const sections = document.querySelectorAll('.product');
    sections.forEach((sec, i) => sec.style.display = (i === id - 1) ? 'block' : 'none');
  }

  // Program görev listesi ve timer

  const programForm = document.getElementById('programForm');
  const programList = document.getElementById('programList');
  const timerSection = document.getElementById('timerSection');
  const timerDisplay = document.getElementById('timerDisplay');
  const alarmSound = document.getElementById('alarmSound');

  let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
  let currentTask = null;
  let taskTimer = null;
  let taskTimeLeft = 0;

  // Görevleri listele
  function renderTasks() {
    programList.innerHTML = '';
    tasks.sort((a,b) => new Date(a.date + ' ' + a.time) - new Date(b.date + ' ' + b.time));
    tasks.forEach((task, index) => {
      const li = document.createElement('li');
      li.textContent = `${task.date} ${task.time} - ${task.name} (${task.duration} dk)`;
      li.style.cursor = 'pointer';
      li.onclick = () => startTask(index);
      programList.appendChild(li);
    });
  }

  // Görev ekleme
  programForm.addEventListener('submit', e => {
    e.preventDefault();
    const name = document.getElementById('taskName').value.trim();
    const date = document.getElementById('taskDate').value;
    const time = document.getElementById('taskTime').value;
    const duration = parseInt(document.getElementById('taskDuration').value, 10);

    if (!name || !date || !time || isNaN(duration)) {
      alert('Lütfen tüm alanları doğru doldurun!');
      return;
    }

    tasks.push({name, date, time, duration});
    localStorage.setItem('tasks', JSON.stringify(tasks));
    renderTasks();
    programForm.reset();
  });

  // Görev başlatma
  function startTask(index) {
    currentTask = tasks[index];
    taskTimeLeft = currentTask.duration * 60;
    timerSection.style.display = 'block';
    updateTimerDisplay();
    clearInterval(taskTimer);
    taskTimer = null;
  }

  // Timer fonksiyonları
  function updateTimerDisplay() {
    const m = Math.floor(taskTimeLeft / 60).toString().padStart(2, '0');
    const s = (taskTimeLeft % 60).toString().padStart(2, '0');
    timerDisplay.textContent = `${m}:${s}`;
  }

  function startTaskTimer() {
    if (taskTimer) return;
    taskTimer = setInterval(() => {
      if (taskTimeLeft > 0) {
        taskTimeLeft--;
        updateTimerDisplay();
      } else {
        clearInterval(taskTimer);
        taskTimer = null;
        alarmSound.play();
        alert(`Görev "${currentTask.name}" tamamlandı!`);
      }
    }, 1000);
  }

  function pauseTaskTimer() {
    clearInterval(taskTimer);
    taskTimer = null;
  }

  function resetTaskTimer() {
    if (!currentTask) return;
    taskTimeLeft = currentTask.duration * 60;
    updateTimerDisplay();
  }

  function stopTaskTimer() {
    clearInterval(taskTimer);
    taskTimer = null;
    timerSection.style.display = 'none';
    currentTask = null;
  }

  // Sayfa yüklenince görevleri listele
  renderTasks();

</script>

</body>
</html>
